<h1>{{userCtrl.currentUser.name}}</h1>

<!-- this is the patient view -->
<table class="u-full-width" ng-show="userCtrl.currentUser.doctor == false">
  <thead>
    <tr>
      <th>Age</th>
      <th>Gender</th>
      <th>Height</th>
      <th>Weight</th>
      <th>Blood Pressure</th>
      <th>Medications</th>
      <th>Family History</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{{userCtrl.currentUser.age}}</td>
      <td>{{userCtrl.currentUser.gender}}</td>
      <td>{{userCtrl.currentUser.height}}</td>
      <td>{{userCtrl.currentUser.weight}}</td>
      <td>{{userCtrl.currentUser.bloodPressure}}</td>
      <td>{{userCtrl.currentUser.currentMedications}}</td>
      <td>{{userCtrl.currentUser.familyHistory}}</td>
    </tr>
  <tbody/>
<table/>
<v-accordion id="patient-accordion" class="vAccordion--default" ng-show="userCtrl.currentUser.doctor == false">
  <v-pane ng-repeat="record in userCtrl.currentUser.records">
    <v-pane-header>
      <h6> {{record.complaint}} -- {{record.date}} </h6>
    </v-pane-header>
    <v-pane-content>
      <p>
        {{record.bodySystem}} |
        {{record.description}} |
        {{record.treatment}} |
      </p>
    </v-pane-content>
  </v-pane>
  <v-pane>
    <v-pane-header>
      <h6> new record </h6>
    </v-pane-header>
    <v-pane-content>
      <a href='/records/new'>new record</a>
    </v-pane-content>
  </v-pane>
</v-accordion>
<div class="new-doctor-array" ng-repeat="doc in userCtrl.currentUser.doctors">
  <button type="button" ng-click="userCtrl.findAllUsers()" >Find a new Doctor</button>
  <div ng-repeat="doc in userCtrl.doctors track by $index" ng-click="userCtrl.addDoctor($index)" class="doctor-tile">
    {{doc.name}}
    {{doc.specialty}}
  </div>
</div>
<div class="doctor-array" ng-show="userCtrl.currentUser.doctor == false">
  <div class="doctor-tile" ng-repeat="doc in userCtrl.currentUser.doctors">
    {{doc.name}}
  </div>
</div>

<!-- this is the doctor view -->
<table class="u-full-width" ng-show="userCtrl.currentUser.doctor == true">
  <thead>
    <tr>
      <th>Hospital</th>
      <th>Sepcialty</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{{userCtrl.currentUser.hospital}}</td>
      <td>{{userCtrl.currentUser.specialty}}</td>
    </tr>
  <tbody/>
<table/>
<v-accordion id="doctor-accordion" class="vAccordion--default" ng-show="userCtrl.currentUser.doctor == true">
  <v-pane ng-repeat="patient in userCtrl.currentUser.patients">
    <v-pane-header>
      <h6><a href="/users/:id/view">{{patient.name}}</a></h6>
    </v-pane-header>
    <v-pane-content>
      <v-accordion id="doctor-sub-accordion" class="vAccordion--default">
        <v-pane>
          <v-pane-header>
            <h6> Patient information </h6>
          </v-pane-header>
          <v-pane-content>
            {{patient.age}}
            {{patient.gender}}
            {{patient.height}}
            {{patient.weight}}
            {{patient.bloodPressure}}
            {{patient.currentMedications}}
            {{patient.familyHistory}}
          </v-pane-content>
        <v-pane ng-repeat="record in userCtrl.currentUser.patients.records">
          <v-pane-header>
            <h6> {{record.complaint}} -- {{record.date}} </h6>
          </v-pane-header>
          <v-pane-content>
            <p>
              {{record.bodySystem}} |
              {{record.description}} |
              {{record.treatment}} |
            </p>
          </v-pane-content>
        </v-pane>
        <v-pane ng-repeat="record in userCtrl.currentUser.patients.records">
          <v-pane-header>
            <h6> Add a new record </h6>
          </v-pane-header>
          <v-pane-content>
            <a href='/records/new'>new record</a>
          </v-pane-content>
        </v-pane>
      </v-accordion>
    </v-pane-content>
  </v-pane>
</v-accordion>
